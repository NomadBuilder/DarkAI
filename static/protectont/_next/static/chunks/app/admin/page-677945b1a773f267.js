(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{4447:function(e,t,l){Promise.resolve().then(l.bind(l,9725))},9725:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return o}});var s=l(7437),a=l(7648),r=l(2265);function i(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}let n={title:"",date:"",location:"",description:"",link:""};function o(){let[e,t]=(0,r.useState)([]),[l,o]=(0,r.useState)(n),d=(0,r.useRef)(null),c=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 py-12 px-4 sm:px-6 md:px-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-light text-gray-900",children:"Admin — Protests & rallies"}),(0,s.jsx)(a.default,{href:"/",className:"text-sm text-blue-600 hover:text-blue-700 font-light underline underline-offset-2",children:"← Back to site"})]}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm font-light mb-8",children:["Add protests below. Download ",(0,s.jsx)("code",{className:"bg-slate-200 px-1 rounded",children:"protests.json"})," and replace"," ",(0,s.jsx)("code",{className:"bg-slate-200 px-1 rounded",children:"public/data/protests.json"})," in the repo, then redeploy so the /protests page updates."]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-light text-gray-900 mb-4",children:"Add a protest or rally"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),(0,s.jsx)("input",{id:"title",type:"text",value:l.title,onChange:e=>o(t=>({...t,title:e.target.value})),placeholder:"e.g. Rally for Public Healthcare",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-gray-900 font-light"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,s.jsx)("input",{id:"date",type:"text",value:l.date,onChange:e=>o(t=>({...t,date:e.target.value})),placeholder:"e.g. March 15, 2025",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-gray-900 font-light"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,s.jsx)("input",{id:"location",type:"text",value:l.location,onChange:e=>o(t=>({...t,location:e.target.value})),placeholder:"e.g. Queen's Park, Toronto",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-gray-900 font-light"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{id:"description",rows:3,value:l.description,onChange:e=>o(t=>({...t,description:e.target.value})),placeholder:"Short description of the event...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-gray-900 font-light"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-1",children:"Event link (optional)"}),(0,s.jsx)("input",{id:"link",type:"url",value:l.link,onChange:e=>o(t=>({...t,link:e.target.value})),placeholder:"https://...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-gray-900 font-light"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{if(!l.title.trim())return;let e="".concat(i(l.title),"-").concat(i(l.date)||Date.now());t(t=>[...t,{id:e,title:l.title.trim(),date:l.date.trim()||"TBD",location:l.location.trim()||"TBD",description:l.description.trim()||void 0,link:l.link.trim()||void 0}]),o(n)},className:"w-full py-3 bg-slate-900 text-white text-sm font-light rounded-lg hover:bg-slate-800 transition-colors",children:"Add to list"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-light text-gray-900",children:["List (",e.length,")"]}),(0,s.jsx)("input",{ref:d,type:"file",accept:".json",className:"hidden",onChange:e=>{var l;let s=null===(l=e.target.files)||void 0===l?void 0:l[0];if(!s)return;let a=new FileReader;a.onload=()=>{try{let e=JSON.parse(a.result),l=Array.isArray(e)?e:[];l.length>0&&"object"==typeof l[0]&&"title"in l[0]&&t(l)}catch(e){alert("Invalid JSON file.")}},a.readAsText(s),e.target.value=""}}),(0,s.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.click()},className:"text-sm text-blue-600 hover:text-blue-700 font-light underline underline-offset-2","aria-label":"Load protests from JSON file",children:"Load from file"}),(0,s.jsx)("button",{type:"button",onClick:()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),l=URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download="protests.json",s.click(),URL.revokeObjectURL(l)},disabled:0===e.length,className:"text-sm py-2 px-4 bg-slate-800 text-white rounded-lg hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed font-light",children:"Download protests.json"})]}),0===e.length?(0,s.jsx)("p",{className:"text-gray-500 text-sm font-light",children:"No protests added yet. Use the form above."}):(0,s.jsx)("ul",{className:"space-y-3",children:e.map(e=>(0,s.jsxs)("li",{className:"flex items-start justify-between gap-4 py-3 border-b border-slate-100 last:border-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.date," \xb7 ",e.location]})]}),(0,s.jsx)("button",{type:"button",onClick:()=>c(e.id),className:"text-sm text-red-600 hover:text-red-700 font-light shrink-0",children:"Remove"})]},e.id))})]})]})})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=4447)}),_N_E=e.O()}]);